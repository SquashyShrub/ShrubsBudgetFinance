@using ShrubsBudgetFinance.Models
@using ShrubsBudgetFinance.Services
@using ShrubsBudgetFinance.Data
@using ShrubsBudgetFinance.Controllers

@inject LiabilityNameService liabilities

@page "/config/liabilitynames"

@* @layout NavigationLayout *@

<head>
    <title>Liability Names</title>
    <style>
        body {
            font-family: Consolas;
            margin: 10px;
        }

        table {
            width: 50%;
            border-collapse: collapse;
            margin-bottom: 10px;
        }

        td {
            border: 1px solid grey;
            padding-left: 10px;
            padding-right: 10px;
        }

        th {
            background-color: lightgrey;
            font-size: 24px;
            padding: 10px;
            border: 1px solid grey;
            text-align: center;
        }

        input {
            margin-top: 4px;
            margin-bottom: 4px;
            width: 100%;
            padding: 2px;
            box-sizing: border-box;
        }
    </style>
</head>

<body>
    <h1>Liabilities Names</h1>
    <p>Enter your Liability names below</p>

    <table id="liabilitiesTable">
        <thead>
            <tr>
                <th>Liability Type</th>
                <th>Nickname</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Rent/Mortgage</td>
                <td><input type="text" id="rentMortgageText" @bind-value="rentMortgage" @bind-value:event="oninput" placeholder="i.e. Rent" /></td>
            </tr>
            <tr>
                <td>Vehicle #1 Loan</td>
                <td><input type="text" id="vehicleOneText" @bind-value="vehicleOne" @bind-value:event="oninput" placeholder="i.e. Toyota Camry" /></td>
            </tr>
            <tr>
                <td>Vehicle #2 Loan</td>
                <td><input type="text" id="vehicleTwoText" @bind-value="vehicleTwo" @bind-value:event="oninput" placeholder="i.e. Ford 150" /></td>
            </tr>
            <tr>
                <td>Vehicle #3 Loan</td>
                <td><input type="text" id="vehicleThreeText" @bind-value="vehicleThree" @bind-value:event="oninput" placeholder="i.e. Yamaha R6" /></td>
            </tr>
            <tr>
                <td>Loan/Debt #1</td>
                <td><input type="text" id="debtOne" @bind-value="debtOne" @bind-value:event="oninput" placeholder="i.e Student Loans" /></td>
            </tr>
            <tr>
                <td>Loan/Debt #2</td>
                <td><input type="text" id="debtTwo" @bind-value="debtTwo" @bind-value:event="oninput" placeholder="i.e Angel Loan from Dad" /></td>
            </tr>
            <tr>
                <td>Loan/Debt #3</td>
                <td><input type="text" id="debtThree" @bind-value="debtThree" @bind-value:event="oninput" placeholder="i.e Conventional Loan" /></td>
            </tr>
            <tr>
                <td>Credit Card #1</td>
                <td><input type="text" id="creditOne" @bind-value="creditOne" @bind-value:event="oninput" placeholder="i.e. USAA Card" /></td>
            </tr>
            <tr>
                <td>Credit Card #2</td>
                <td><input type="text" id="creditTwo" @bind-value="creditTwo" @bind-value:event="oninput" placeholder="i.e Amazon Card" /></td>
            </tr>
            <tr>
                <td>Credit Card #3</td>
                <td><input type="text" id="creditThree" @bind-value="creditThree" @bind-value:event="oninput" placeholder="i.e. Unlimited Citi Cashback" /></td>
            </tr>
        </tbody>
    </table>
    <div class="btn btn-primary" @onclick="SaveData">Save Liability Names</div>

</body>

@code {
	static ConfigContext config = new ConfigContext();
	static LiabilityController controller = new LiabilityController(config);

    //Variables
	private string rentMortgage;
    private string vehicleOne;
	private string vehicleTwo;
    private string vehicleThree;
    private string debtOne;
    private string debtTwo;
    private string debtThree;
	private string creditOne;
	private string creditTwo;
	private string creditThree;

	private void SaveData()
	{
		var LiabilityNameToUpdate = controller.FindOne(1);
		LiabilityNameToUpdate.Nickname = rentMortgage;
		liabilities.UpdateLiability(1, LiabilityNameToUpdate);

		LiabilityNameToUpdate = controller.FindOne(2);
		LiabilityNameToUpdate.Nickname = vehicleOne;
		liabilities.UpdateLiability(2, LiabilityNameToUpdate);

		LiabilityNameToUpdate = controller.FindOne(3);
		LiabilityNameToUpdate.Nickname = vehicleTwo;
		liabilities.UpdateLiability(3, LiabilityNameToUpdate);

		LiabilityNameToUpdate = controller.FindOne(4);
		LiabilityNameToUpdate.Nickname = vehicleThree;
		liabilities.UpdateLiability(4, LiabilityNameToUpdate);

		LiabilityNameToUpdate = controller.FindOne(5);
		LiabilityNameToUpdate.Nickname = debtOne;
		liabilities.UpdateLiability(5, LiabilityNameToUpdate);

		LiabilityNameToUpdate = controller.FindOne(6);
		LiabilityNameToUpdate.Nickname = debtTwo;
		liabilities.UpdateLiability(6, LiabilityNameToUpdate);

		LiabilityNameToUpdate = controller.FindOne(7);
		LiabilityNameToUpdate.Nickname = debtThree;
		liabilities.UpdateLiability(7, LiabilityNameToUpdate);

		LiabilityNameToUpdate = controller.FindOne(8);
		LiabilityNameToUpdate.Nickname = creditOne;
		liabilities.UpdateLiability(8, LiabilityNameToUpdate);

		LiabilityNameToUpdate = controller.FindOne(9);
		LiabilityNameToUpdate.Nickname = creditTwo;
		liabilities.UpdateLiability(9, LiabilityNameToUpdate);

		LiabilityNameToUpdate = controller.FindOne(10);
		LiabilityNameToUpdate.Nickname = creditThree;
		liabilities.UpdateLiability(10, LiabilityNameToUpdate);
	}

}
